# BLE Temperature Monitoring Configuration

# BLE scanning configuration
ble:
  # List of sensors to monitor
  # Note: BLE scanning runs continuously; sensors broadcast every 2-5 seconds
  sensors:
    - name: Sypialnia
      id: 1
      macAddress: A4:C1:38:ED:C0:21
    - name: Salon
      id: 2
      macAddress: A4:C1:38:26:E2:4C
    - name: ≈Åazienka
      id: 3
      macAddress: A4:C1:38:F1:2D:0D
    - name: Balkon
      id: 4
      macAddress: A4:C1:38:3E:5F:D1

# Netatmo thermostat integration
netatmo:
  # Enable Netatmo thermostat data collection
  enabled: true

  # Netatmo OAuth2 credentials
  # Get these from https://dev.netatmo.com/apps
  # IMPORTANT: Use environment variables for sensitive data
  clientId: ""  # or use NETATMO_CLIENT_ID env var
  clientSecret: ""  # or use NETATMO_CLIENT_SECRET env var
  refreshToken: ""  # or use NETATMO_REFRESH_TOKEN env var

  # Interval between Netatmo API fetches in seconds (minimum: 1, recommended: 60)
  # Note: Netatmo rate limits apply - don't set too low
  fetchIntervalSeconds: 60

# Power meter monitoring
power:
  # Enable power meter monitoring
  enabled: true

  # HTTP endpoint URL for power meter scraping
  # Example: http://192.168.1.100/metrics or http://powermeter.local/status
  scrapeUrl: "http://192.168.25.46/state"  # or use POWER_SCRAPE_URL env var

  # Interval between power meter scrapes in seconds (minimum: 1, default: 2)
  scrapeIntervalSeconds: 1

  # HTTP request timeout in seconds (default: 1.5)
  scrapeTimeoutSeconds: 0.99

# Pyroscope profiling configuration
pyroscope:
  # Enable Pyroscope continuous profiling
  enabled: false

  # Pyroscope server URL
  # For Grafana Cloud: https://profiles-prod-XXX.grafana.net
  # For local: http://pyroscope-server:4040
  serverUrl: ""  # or use PYROSCOPE_SERVER_URL env var

  # Application name for profiling data
  # This will appear in Pyroscope UI for filtering
  applicationName: "home-controller"  # or use PYROSCOPE_APPLICATION_NAME env var

  # Basic auth username (for Grafana Cloud, this is your instance ID)
  basicAuthUser: ""  # or use PYROSCOPE_BASIC_AUTH_USER env var

  # Basic auth password (for Grafana Cloud, this is your API key)
  # IMPORTANT: Use PYROSCOPE_BASIC_AUTH_PASSWORD environment variable
  basicAuthPassword: ""  # or use PYROSCOPE_BASIC_AUTH_PASSWORD env var

  # Profile types to enable (all enabled by default)
  # Supported: cpu, alloc_objects, alloc_space, inuse_objects, inuse_space,
  #            goroutines, mutex, block
  profileTypes:
    - cpu              # CPU profiling
    - alloc_objects    # Memory allocation object count
    - alloc_space      # Memory allocation bytes
    - inuse_objects    # In-use memory object count
    - inuse_space      # In-use memory bytes
    - goroutines       # Number of goroutines

  # Mutex profiling rate (0 = disabled, recommended: 5-10 for production)
  # Higher = more detail but more overhead
  mutexProfileRate: 0

  # Block profiling rate (0 = disabled, recommended: 1000000-10000000 nanoseconds)
  # Samples blocking events that last longer than this duration
  blockProfileRate: 0

  # Disable GC runs for more efficient memory profiling
  # Set to true if tracking many objects (reduces CPU overhead, less precise heap profiles)
  disableGCRuns: false

  # Additional tags for filtering in Pyroscope UI
  # Example: environment, version, hostname
  tags: {}

# Prometheus metrics push configuration
prometheus:
  # Interval between metric pushes in seconds (minimum: 1)
  pushIntervalSeconds: 30

  # Prometheus remote_write endpoint URL
  # For Grafana Cloud, use: https://prometheus-prod-XX-YY-ZZ.grafana.net/api/prom/push
  prometheusUrl: "https://prometheus-blocks-prod-us-central1.grafana.net/api/prom/push"

  # Prometheus basic auth username (Grafana Cloud instance ID)
  prometheusUsername: "83165"

  # Grafana Cloud password (API key)
  # IMPORTANT: Use PROMETHEUS_PASSWORD environment variable instead of storing here
  prometheusPassword: ""

  # Start pushing at even second boundaries (improves alignment in time series)
  startAtEvenSecond: true

  # Ring buffer size (number of readings to buffer before push)
  bufferSize: 200000

  # Batch size for pushing metrics (number of readings per batch, default: 1000)
  # Larger batches are more efficient but may hit size limits on the receiving end
  batchSize: 1000

# Logging configuration
logging:
  # Log format: "console" (human-readable) or "json" (structured)
  # Use "console" for development, "json" for production
  logFormat: "console"

  # Log level: "debug", "info", "warn", "error"
  logLevel: "info"
